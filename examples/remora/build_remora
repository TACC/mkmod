#!/bin/bash

# Real World Example with mkmod
# Make sure you have made a modulefile for mkmod. (See docs/README to "install")
# or put mkmod in your path and set MY_MKMOD_EXM to this directory.
#  

# Features:  uses module help-message file (provided)
#            NOTE:  it uses the $VAR variable inside module_help_message

# Get the remora performance monitor from TACC:

         git clone https://github.com/tacc/remora

# Build
         cd remora
         ./install.sh

#   Get the Version number, inside install.sh look for VERSION=x.y.z or just execute
#   this grep and replace with the correct value below.
grep -Po 'VERSION=\K[0-9.]*' install.sh

         export VER=1.8.1
         export NAME=remora
         export TOPDIR=`pwd`

         export PREFIX=""
         export HELP_FILE=$MY_MKMOD_EXM/remora/module_help_message
         export ENV1="REMORA_VERBOSE=0"
         export ENV2="REMORA_MODE=FULL"
         export ENV3="REMORA_PERIOD=10"

         mkmod

#HELP_FILE taken from TACC's remora module.
#Note: Possibly remora developers will support mkmod and will
       provide a module_help_message in their distro.
